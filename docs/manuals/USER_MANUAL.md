# FluentYTDL Pro 用户指南

从入门到精通的完整操作手册

---

## 快速入门

### 环境准备

软件内置核心组件（yt-dlp、FFmpeg、Deno），开箱即用。

> **推荐**：安装 Firefox 浏览器并登录 YouTube 账号，可自动读取 Cookies，无需额外配置。

### 懒人模式

在 **设置 → 自动化** 中开启"剪贴板自动识别"。复制任意 YouTube 链接，软件自动弹出解析窗口。

### 确认下载

点击弹窗中的"下载"按钮，默认自动选择最佳画质。

---

## 核心功能

### 基本下载

支持视频、播放列表、频道页链接。粘贴链接后回车即可解析。

### A+B 专业模式

在解析弹窗中点击"选择格式"，可自由组合视频流（如 4K 画面）和音频流（如 Hi-Res 音质）。

### 批量管理

在下载列表中使用"批量选择"，一键暂停、开始或删除多个任务。

---

## 高级配置

### 组件更新源

在 **设置 → 核心组件** 中可选择 GitHub（官方）或 GHProxy（加速镜像）。

### JavaScript 运行时

yt-dlp 需要 JS 运行时解密参数。软件内置 Deno 支持，也可在设置中指定 Node/Bun 路径。

### PO Token（实验性）

用于通过 YouTube 的 Proof of Origin 验证。在高级设置中可粘贴 Token。

### 加速播放列表解析

在 **设置 → 行为策略** 中开启，可跳过登录验证检查，加快大列表解析速度。

---

## 错误查询手册

### 🔴 错误代码速查表

| 关键词 (Keywords) | 错误类型 | 核心原因 | 解决方案 |
| :--- | :--- | :--- | :--- |
| `ffmpeg not found` | 组件缺失 | 缺少 FFmpeg 导致无法合并音视频 | 在设置中点击"检查更新"或手动导入 |
| `HTTP Error 403` | 访问被拒 | IP 地址被 YouTube 风控 | **首选**：更新 Cookies (见下文)；其次：更换代理节点 |
| `Sign in` / `private` | 权限不足 | 视频需要登录或会员权限 | 必须导入有效的 Cookies |
| `timed out` / `10060` | 网络超时 | 无法连接到 YouTube 服务器 | 检查代理软件是否开启系统代理模式 |
| `Video unavailable` | 视频无效 | 视频被删或区域限制 | 确认链接在浏览器中可访问 |
| `postprocessing` | 后处理失败 | 格式合成出错或磁盘满 | 尝试切换下载格式 (如 MKV/MP4) |

### 🔍 深度解析：403 Forbidden 与 风控

这是最常见的问题。YouTube 会屏蔽“非浏览器”流量。
**解决方案**：
1.  **更新 Cookies (推荐)**：使用 Firefox 登录 YouTube，然后在软件设置中选择“Firefox”作为 Cookie 来源。这是目前唯一能持续绕过风控的方法。
2.  **更换节点**：如果您使用所谓“万人骑”的公共代理节点，很容易被封锁。尝试切换到冷门节点。
3.  **PO Token (实验性)**：在高级设置中填入 Token（如果不懂如何获取，请优先使用前两种方法）。

### 🛠️ 深度解析：FFmpeg 组件问题

如果您看到 `ffmpeg not found` 或下载后只有声音/画面：
1.  **自动修复**：前往 **设置 → 核心组件**，点击“检查更新”。系统会自动下载兼容版本。
2.  **手动修复**：如果自动失败，请下载 `ffmpeg.exe` 和 `ffprobe.exe`，并将其放入软件的 `bin/` 或 `runtime/` 目录下。

### 🌐 深度解析：网络连接重置

如果下载一开始就报错 `URLError` 或 `WinError 10054`：
1.  **代理模式**：请确保您的代理软件开启了 **“系统代理” (System Proxy)** 模式，不仅仅是浏览器插件。
2.  **端口检查**：检查软件 **设置 → 网络连接** 中的端口号是否与代理软件一致（通常是 `7890` 或 `10809`）。

### 📝 获取调试日志

如果上述方法都无效：
1.  点击左下角 **关于** 按钮。
2.  点击 **日志目录**，找到 `fluentytdl.log`。
3.  将日志文件发送给开发者或提交 Issue。

---

### 如何获取日志

打开安装目录下的 `logs/` 文件夹，将 `fluentytdl.log` 发送给开发者。

> 文档版本 v2.1 | 最后更新 2026-01-01