# FluentYTDL Pro 用户指南

从入门到精通的完整操作手册，以及详细的故障排查参考。

---

## 第一部分：操作指南

### 1. 快速入门
只需三步，开启极其舒适的下载体验：

1.  **环境准备**：
    *   软件内置了核心组件，开箱即用。
    *   **强烈推荐**：安装 **Firefox 浏览器** 并登录 YouTube 账号。这是目前唯一无需配置即可自动读取 Cookies 的方案。
2.  **懒人模式**：
    *   在“设置 -> 自动化”中开启 **“剪贴板自动识别”**。
    *   复制任意 YouTube 链接，软件会自动弹出解析窗口。
3.  **确认下载**：
    *   点击弹窗中的“下载”即可。默认会自动选择最佳画质。

### 2. 核心功能详解
*   **基本下载**：支持视频、播放列表、频道页链接。
*   **A+B 专业模式**：
    *   在解析弹窗中点击“选择格式”。
    *   **简易模式**：快速选择 1080P/4K/纯音频。
    *   **专业模式**：自由组合 **视频流** (如 4K 画面) 和 **音频流** (如 Hi-Res 音质)。
*   **批量管理**：
    *   在下载列表中使用“批量选择”功能，一键暂停、开始或删除任务。
    *   删除任务时可选是否同时删除本地文件（可在“设置 -> 行为策略”中配置默认行为）。

---

## ⚙️ 第二部分：高级配置 (Advanced Settings)

对于进阶用户，FluentYTDL Pro 提供了丰富的配置选项以应对复杂的网络环境和反爬限制。

### 1. 核心组件管理
位于 **“设置 -> 核心组件”**：
-   **组件更新源**：默认为 GitHub。如果下载速度慢，可切换为 **GHProxy (加速镜像)**。
-   **启动检查**：默认开启。每天首次启动时自动检查 yt-dlp 和 ffmpeg 更新。
-   **手动导入**：如果自动更新失败，可下载 `.exe` 文件后点击“手动导入”按钮覆盖安装。

### 2. JavaScript 运行时 (JS Runtime)
yt-dlp 经常需要执行 JS 代码来解密参数。
-   **JS Runtime 策略**：
    *   **自动 (推荐)**：自动寻找系统中的可用引擎。
    *   **Deno / Node / Bun / QuickJS**：强制指定特定引擎。
    *   **Deno 优势**：软件内置了 Deno 下载与更新功能，通常比 Node.js 更快且无需安装庞大的运行环境。
-   **JS Runtime 路径**：如果系统变量中没有这些工具，可在此手动指定可执行文件路径。

### 3. YouTube 反爬与验证 (PO Token & Cookies)
应对 "Sign in to confirm your age" 或 "403 Forbidden" 等问题。

-   **Cookies 来源**：
    *   **从浏览器读取**：首选方案。推荐选择 **Firefox**（无需解密密钥，成功率最高）。
    *   **手动导入文件**：选择 Chrome/Edge 的用户，建议使用插件（如 *Get cookies.txt LOCALLY*）导出 **Netscape 格式** 的 `.txt` 文件，然后在此导入。
-   **YouTube PO Token (可选/实验性)**：
    *   用于通过 YouTube 的 "Proof of Origin" 验证。
    *   这通常用于解决严重的 Web 客户端受限问题。
    *   获取方式请参考相关技术社区（如 Guggiluv/POToken 生成器），将生成的 Token 粘贴至此。

### 4. 性能与行为
-   **加速播放列表解析 (实验性)**：
    *   位于 **“设置 -> 行为策略”**。
    *   开启后会跳过繁琐的登录验证检查 (authcheck)。
    *   **效果**：大幅提升长播放列表的解析速度。
    *   **副作用**：如果是会员限定或私享列表，开启此项可能导致解析失败。

---

## 🔧 第三部分：故障排除手册 (Troubleshooting)

如果遇到错误，请参考下表查找原因及解决方案。

| 错误类型 | 典型提示关键词 | 核心原因 | 解决方案 |
| :--- | :--- | :--- | :--- |
| **组件缺失** | `ffmpeg not found`, `no such file` | 缺少 FFmpeg 导致无法合并 | 1. 在“设置 -> 核心组件”中点击“检查更新”或手动导入 ffmpeg。<br>2. 确保已解压完整的 runtime 目录。 |
| **访问被拒** | `HTTP Error 403`, `forbidden`, `bot` | IP 风控或 Cookies 失效 | 1. **更新 Cookies** (推荐切换到 Firefox)。<br>2. 切换代理节点。<br>3. 暂停使用 30 分钟。 |
| **权限验证** | `Sign in`, `confirm your age`, `private` | 需要登录/年龄限制/会员 | 必须配置有效的 Cookies。确认账号在该浏览器中能正常播放视频。 |
| **网络异常** | `timed out`, `unreachable`, `refused` | 网络不通 | 1. 检查“设置 -> 网络连接”中的代理配置。<br>2. 确认代理软件已开启系统代理模式。 |
| **无效链接** | `unsupported url`, `not a valid url` | 链接格式错误 | 确认链接以 `https://` 开头，且是有效的视频/列表/频道地址。 |
| **后处理失败** | `postprocessing`, `muxing error` | 格式兼容性或磁盘已满 | 1. 检查磁盘空间。<br>2. 尝试切换简易模式的其他格式。<br>3. 确保 FFmpeg 版本是最新的。 |

---

### 如何获取日志？
如果问题无法解决，请查看日志文件：
-   点击左下角 **“关于”** 页面，或直接打开安装目录下的 `logs/` 文件夹。
-   将 `fluentytdl.log` 发送给开发者。

> 文档版本: v2.0 | 最后更新: 2026-01-01